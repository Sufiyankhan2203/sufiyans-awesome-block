(()=>{"use strict";var e,s={155:(e,s,o)=>{const t=window.wp.blocks,a=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.components,r=window.wp.element,i=window.wp.apiFetch;var c=o.n(i);const d=window.ReactJSXRuntime,h=(0,r.forwardRef)((function({blockProps:e,attributes:s,setAttributes:o,isEditor:t=!1}){if(t){const[s,t,n]=(e=>{const[s,o]=(0,r.useState)(null),[t,a]=(0,r.useState)(!0),[n,l]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{try{const s=await c()({path:e});if(!s||!s.data)throw new Error("No data found");o(s)}catch(e){l(e)}finally{a(!1)}})()}),[e]),[s,t,n]})("/sab/v1/data");if(s&&(o({header:s.data.headers}),o({body:s.data.rows})),t)return(0,d.jsx)("div",{...e,children:(0,a.__)("Fetching API...","Sab")});if(n)return(0,d.jsxs)("div",{...e,children:["Error: ",n.message]})}return(0,d.jsx)("div",{...e,children:(0,d.jsx)("div",{class:"sab-block-section",children:(0,d.jsxs)("table",{class:"form-table sab-list-table",children:[(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{valign:"top",children:s.header&&s.header.map(((e,o)=>(0,d.jsxs)(d.Fragment,{children:[s.showIdColumn&&0===o&&(0,d.jsx)("th",{className:"item-"+o,children:e},o),s.showFirstNameColumn&&1===o&&(0,d.jsx)("th",{className:"item-"+o,children:e},o),s.showLastNameColumn&&2===o&&(0,d.jsx)("th",{className:"item-"+o,children:e},o),s.showEmailColumn&&3===o&&(0,d.jsx)("th",{className:"item-"+o,children:e},o),s.showDateColumn&&4===o&&(0,d.jsx)("th",{className:"item-"+o,children:e},o)]})))})}),(0,d.jsx)("tbody",{children:s.body&&Object.keys(s.body).map(((e,o)=>(0,d.jsx)("tr",{children:Object.values(s.body[e]).map(((e,o)=>(0,d.jsxs)(d.Fragment,{children:[s.showIdColumn&&0===o&&(0,d.jsx)("td",{className:"item-"+o,children:e},o),s.showFirstNameColumn&&1===o&&(0,d.jsx)("td",{className:"item-"+o,children:e},o),s.showLastNameColumn&&2===o&&(0,d.jsx)("td",{className:"item-"+o,children:e},o),s.showEmailColumn&&3===o&&(0,d.jsx)("td",{className:"item-"+o,children:e},o),s.showDateColumn&&4===o&&(0,d.jsx)("td",{className:"item-"+o,children:e},o)]})))},o)))})]})})})})),m=JSON.parse('{"UU":"sab/sufiyans-api-block","rE":"1.0.0"}');(0,t.registerBlockType)(m.UU,{edit:function({attributes:e,setAttributes:s,clientId:o}){const t=(0,n.useBlockProps)();return s({blockId:o,blockVersion:m.rE}),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h,{blockProps:t,attributes:e,setAttributes:s,isEditor:!0}),(0,d.jsx)(n.InspectorControls,{children:(0,d.jsxs)(l.PanelBody,{title:(0,a.__)("API Data Settings","Sab"),children:[(0,d.jsx)(l.PanelRow,{children:(0,d.jsx)(l.ToggleControl,{checked:e.showIdColumn,label:(0,a.__)("Show ID Column","Sab"),onChange:e=>s({showIdColumn:e})})}),(0,d.jsx)(l.PanelRow,{children:(0,d.jsx)(l.ToggleControl,{checked:e.showFirstNameColumn,label:(0,a.__)("Show FirstName Column","Sab"),onChange:e=>s({showFirstNameColumn:e})})}),(0,d.jsx)(l.PanelRow,{children:(0,d.jsx)(l.ToggleControl,{checked:e.showLastNameColumn,label:(0,a.__)("Show Last Name Column","Sab"),onChange:e=>s({showLastNameColumn:e})})}),(0,d.jsx)(l.PanelRow,{children:(0,d.jsx)(l.ToggleControl,{checked:e.showEmailColumn,label:(0,a.__)("Show Email Column","Sab"),onChange:e=>s({showEmailColumn:e})})}),(0,d.jsx)(l.PanelRow,{children:(0,d.jsx)(l.ToggleControl,{checked:e.showDateColumn,label:(0,a.__)("Show Date Column","Sab"),onChange:e=>s({showDateColumn:e})})})]})})]})},save:function({attributes:e}){const s=n.useBlockProps.save({id:e.blockId});return(0,d.jsx)(h,{blockProps:s,attributes:e})}})}},o={};function t(e){var a=o[e];if(void 0!==a)return a.exports;var n=o[e]={exports:{}};return s[e](n,n.exports,t),n.exports}t.m=s,e=[],t.O=(s,o,a,n)=>{if(!o){var l=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],n=e[d][2];for(var r=!0,i=0;i<o.length;i++)(!1&n||l>=n)&&Object.keys(t.O).every((e=>t.O[e](o[i])))?o.splice(i--,1):(r=!1,n<l&&(l=n));if(r){e.splice(d--,1);var c=a();void 0!==c&&(s=c)}}return s}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,a,n]},t.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},t.d=(e,s)=>{for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={57:0,350:0};t.O.j=s=>0===e[s];var s=(s,o)=>{var a,n,l=o[0],r=o[1],i=o[2],c=0;if(l.some((s=>0!==e[s]))){for(a in r)t.o(r,a)&&(t.m[a]=r[a]);if(i)var d=i(t)}for(s&&s(o);c<l.length;c++)n=l[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},o=self.webpackChunksab=self.webpackChunksab||[];o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o))})();var a=t.O(void 0,[350],(()=>t(155)));a=t.O(a)})();